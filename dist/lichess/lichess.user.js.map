{
  "version": 3,
  "sources": ["../../src/main/lichess/lichess.user.ts"],
  "sourcesContent": ["namespace Lichess {\n  interface Position {\n    row: number\n    col: number\n  }\n\n  type Piece = 'K' | 'Q' | 'R' | 'B' | 'N' | 'P' | 'k' | 'q' | 'r' | 'b' | 'n' | 'p' | null\n\n  class ChessToUCI {\n    private board!: Piece[][]\n    private activeColor!: 'w' | 'b'\n\n    constructor() {\n      this.reset()\n    }\n\n    private reset(): void {\n      this.board = [\n        ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'], // rank 8 (row 0)\n        ['p', 'p', 'p', 'p', 'p', 'p', 'p', 'p'], // rank 7 (row 1)\n        [null, null, null, null, null, null, null, null], // rank 6 (row 2)\n        [null, null, null, null, null, null, null, null], // rank 5 (row 3)\n        [null, null, null, null, null, null, null, null], // rank 4 (row 4)\n        [null, null, null, null, null, null, null, null], // rank 3 (row 5)\n        ['P', 'P', 'P', 'P', 'P', 'P', 'P', 'P'], // rank 2 (row 6)\n        ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R'], // rank 1 (row 7)\n      ]\n      this.activeColor = 'w'\n    }\n\n    private fileToCol(file: string): number {\n      return file.charCodeAt(0) - 'a'.charCodeAt(0)\n    }\n\n    private rankToRow(rank: string): number {\n      return 8 - parseInt(rank, 10)\n    }\n\n    private colToFile(col: number): string {\n      return String.fromCharCode('a'.charCodeAt(0) + col)\n    }\n\n    private rowToRank(row: number): string {\n      return (8 - row).toString()\n    }\n\n    private squareToPosition(square: string): Position {\n      return {\n        col: this.fileToCol(square[0]),\n        row: this.rankToRow(square[1]),\n      }\n    }\n\n    private positionToSquare(pos: Position): string {\n      return this.colToFile(pos.col) + this.rowToRank(pos.row)\n    }\n\n    private findPieceForMove(\n      pieceType: string,\n      targetSquare: string,\n      disambiguator: string = '',\n      isCapture: boolean = false,\n    ): Position | null {\n      const piece = this.activeColor === 'w' ? pieceType.toUpperCase() : pieceType.toLowerCase()\n      const target = this.squareToPosition(targetSquare)\n\n      const candidates: Position[] = []\n\n      // Special handling for pawn moves\n      if (pieceType.toLowerCase() === 'p') {\n        if (isCapture) {\n          // Pawn capture - look diagonally\n          const direction = this.activeColor === 'w' ? 1 : -1 // White moves up (row decreases), black moves down\n          const sourceRow = target.row + direction\n\n          if (disambiguator) {\n            // File disambiguation for pawn captures (e.g., \"exd5\")\n            const sourceCol = this.fileToCol(disambiguator)\n            if (sourceRow >= 0 && sourceRow < 8 && this.board[sourceRow][sourceCol] === piece) {\n              return { row: sourceRow, col: sourceCol }\n            }\n          }\n        } else {\n          // Regular pawn move\n          const direction = this.activeColor === 'w' ? 1 : -1\n\n          // Try one square forward\n          let sourceRow = target.row + direction\n          if (sourceRow >= 0 && sourceRow < 8 && this.board[sourceRow][target.col] === piece) {\n            return { row: sourceRow, col: target.col }\n          }\n\n          // Try two squares forward (initial pawn move)\n          sourceRow = target.row + 2 * direction\n          if (sourceRow >= 0 && sourceRow < 8 && this.board[sourceRow][target.col] === piece) {\n            return { row: sourceRow, col: target.col }\n          }\n        }\n        return null\n      }\n\n      // Find all pieces of the required type\n      for (let row = 0; row < 8; row++) {\n        for (let col = 0; col < 8; col++) {\n          if (this.board[row][col] === piece) {\n            if (this.canPieceReach(piece, { row, col }, target)) {\n              candidates.push({ row, col })\n            }\n          }\n        }\n      }\n\n      if (candidates.length === 0) return null\n      if (candidates.length === 1) return candidates[0]\n\n      // Handle disambiguation\n      if (disambiguator) {\n        for (const candidate of candidates) {\n          if (disambiguator.length === 1) {\n            if (isNaN(parseInt(disambiguator))) {\n              // File disambiguation\n              if (this.colToFile(candidate.col) === disambiguator) {\n                return candidate\n              }\n            } else {\n              // Rank disambiguation\n              if (this.rowToRank(candidate.row) === disambiguator) {\n                return candidate\n              }\n            }\n          } else if (disambiguator.length === 2) {\n            // Full square disambiguation\n            if (this.positionToSquare(candidate) === disambiguator) {\n              return candidate\n            }\n          }\n        }\n      }\n\n      // If no disambiguation worked, return the first candidate\n      return candidates[0]\n    }\n\n    private canPieceReach(piece: Piece, from: Position, to: Position): boolean {\n      if (!piece) return false\n\n      const dx = to.col - from.col\n      const dy = to.row - from.row\n      const absDx = Math.abs(dx)\n      const absDy = Math.abs(dy)\n\n      switch (piece.toLowerCase()) {\n        case 'r': // Rook\n          return (dx === 0 || dy === 0) && this.isPathClear(from, to)\n\n        case 'n': // Knight\n          return (absDx === 2 && absDy === 1) || (absDx === 1 && absDy === 2)\n\n        case 'b': // Bishop\n          return absDx === absDy && absDx > 0 && this.isPathClear(from, to)\n\n        case 'q': // Queen\n          return (dx === 0 || dy === 0 || absDx === absDy) && this.isPathClear(from, to)\n\n        case 'k': // King\n          return absDx <= 1 && absDy <= 1\n\n        default:\n          return false\n      }\n    }\n\n    private isPathClear(from: Position, to: Position): boolean {\n      const dx = Math.sign(to.col - from.col)\n      const dy = Math.sign(to.row - from.row)\n\n      let currentRow = from.row + dy\n      let currentCol = from.col + dx\n\n      while (currentRow !== to.row || currentCol !== to.col) {\n        if (this.board[currentRow][currentCol] !== null) {\n          return false\n        }\n        currentRow += dy\n        currentCol += dx\n      }\n\n      return true\n    }\n\n    private algebraicToUci(move: string): string {\n      // Remove check/checkmate indicators\n      move = move.replace(/[+#]/, '').trim()\n\n      // Handle castling\n      if (move === 'O-O' || move === '0-0') {\n        const rank = this.activeColor === 'w' ? '1' : '8'\n        return `e${rank}g${rank}`\n      }\n      if (move === 'O-O-O' || move === '0-0-0') {\n        const rank = this.activeColor === 'w' ? '1' : '8'\n        return `e${rank}c${rank}`\n      }\n\n      // Handle promotion\n      let promotion = ''\n      if (move.includes('=')) {\n        const parts = move.split('=')\n        move = parts[0]\n        promotion = parts[1].toLowerCase()\n      }\n\n      // Determine if it's a capture\n      const isCapture = move.includes('x')\n      move = move.replace('x', '')\n\n      // Extract piece type\n      let pieceType = 'p' // Default to pawn\n      let moveStr = move\n\n      if (/^[KQRBN]/.test(move)) {\n        pieceType = move[0].toLowerCase()\n        moveStr = move.slice(1)\n      }\n\n      // Extract target square (last two characters)\n      const targetMatch = moveStr.match(/([a-h][1-8])$/)\n      if (!targetMatch) {\n        throw new Error(`Invalid move format: ${move}`)\n      }\n\n      const targetSquare = targetMatch[1]\n\n      // Extract disambiguation\n      const disambiguator = moveStr.replace(targetSquare, '')\n\n      // Find source position\n      const fromPos = this.findPieceForMove(pieceType, targetSquare, disambiguator, isCapture)\n      if (!fromPos) {\n        throw new Error(`Could not find piece for move: ${move}`)\n      }\n\n      const fromSquare = this.positionToSquare(fromPos)\n      const uciMove = fromSquare + targetSquare + promotion\n\n      // Update board for next move\n      this.makeMove(fromPos, this.squareToPosition(targetSquare), promotion)\n\n      return uciMove\n    }\n\n    private makeMove(from: Position, to: Position, promotion: string = ''): void {\n      const piece = this.board[from.row][from.col]\n\n      // Handle castling rook moves\n      if (piece?.toLowerCase() === 'k' && Math.abs(to.col - from.col) === 2) {\n        if (to.col === 6) {\n          // Kingside castling\n          this.board[from.row][5] = this.board[from.row][7] // Move rook\n          this.board[from.row][7] = null\n        } else if (to.col === 2) {\n          // Queenside castling\n          this.board[from.row][3] = this.board[from.row][0] // Move rook\n          this.board[from.row][0] = null\n        }\n      }\n\n      // Make the move\n      this.board[from.row][from.col] = null\n\n      if (promotion) {\n        const promotedPiece = (this.activeColor === 'w' ? promotion.toUpperCase() : promotion.toLowerCase()) as Piece\n        this.board[to.row][to.col] = promotedPiece\n      } else {\n        this.board[to.row][to.col] = piece\n      }\n\n      // Switch active color\n      this.activeColor = this.activeColor === 'w' ? 'b' : 'w'\n    }\n\n    public convertMovesToUci(moves: string): string[] {\n      this.reset()\n\n      if (!moves.trim()) return []\n\n      const moveList = moves\n        .split(',')\n        .map(m => m.trim())\n        .filter(m => m.length > 0)\n      const uciMoves: string[] = []\n\n      for (const move of moveList) {\n        try {\n          const uciMove = this.algebraicToUci(move)\n          uciMoves.push(uciMove)\n        } catch (error) {\n          throw new Error(`Error converting move \"${move}\": ${error}`)\n        }\n      }\n\n      return uciMoves\n    }\n  }\n\n  // Main function to convert algebraic moves to UCI\n  const movesToUci = (moves: string): string[] => {\n    const board = new ChessToUCI()\n    return board.convertMovesToUci(moves)\n  }\n\n  const getMoveList = (theNode: Element) => {\n    return Array.from(theNode.getElementsByTagName('kwdb'))\n      .map(el => el.textContent)\n      .join(',')\n  }\n\n  const lookForMoves = (theNode: Element) => {\n    const moves = getMoveList(theNode)\n    if (moves) {\n      try {\n        const uci = movesToUci(moves)\n        console.log('UCI:', uci.join(','))\n      } catch (error) {\n        console.error('Error generating UCI:', error)\n      }\n    } else {\n      console.log('No moves found')\n    }\n  }\n\n  const queryMasterDB = (db: IDBDatabase, uci: string) => {\n    // First check our DB to see if we have this move already\n    const transaction = db.transaction(['chessMoves'])\n    const objectStore = transaction.objectStore('chessMoves')\n    const objectStoreRequest = objectStore.get(uci)\n\n    objectStoreRequest.onerror = () => {\n      // Handle errors!\n      console.log('Error fetching data from DB.')\n    }\n    objectStoreRequest.onsuccess = event => {\n      // Do something with the request.result!\n      const target = event.target as IDBRequest\n      if (target?.result) {\n        console.log('Move found in DB:', target.result)\n        return target.result\n      } else {\n        console.log('Move not found in DB, need to fetch from external source.')\n        GM_xmlhttpRequest({\n          method: 'GET',\n          url: `https://explorer.lichess.ovh/masters?play=${encodeURIComponent(uci)}`,\n          onload: response => {\n            if (response.status === 200) {\n              const data = JSON.parse(response.responseText)\n              console.log('Fetched move data:', data)\n              data.uci = uci // Add the UCI move to the data object\n              // Store the fetched data in IndexedDB\n              const transaction = db.transaction(['chessMoves'], 'readwrite')\n              const objectStore = transaction.objectStore('chessMoves')\n              const addRequest = objectStore.add(data)\n              addRequest.onsuccess = () => {\n                console.log('Move data stored in DB.')\n                return data\n              }\n              addRequest.onerror = event => {\n                console.error('Error storing move data in DB:', event)\n              }\n            } else {\n              console.error('Error fetching move data:', response.statusText)\n            }\n          },\n        })\n      }\n    }\n  }\n\n  const initDBOpenRequest = (db: IDBDatabase) => {\n    // Let us open our database\n    const DBOpenRequest = window.indexedDB.open('chessMoves')\n    // Register two event handlers to act on the database being opened successfully, or not\n    DBOpenRequest.onerror = event => {\n      console.log('Error loading database')\n    }\n\n    DBOpenRequest.onsuccess = event => {\n      console.log('Database initialised.')\n\n      // Store the result of opening the database in the db variable. This is used a lot below\n      db = DBOpenRequest.result\n    }\n\n    DBOpenRequest.onupgradeneeded = event => {\n      db = (event.target as IDBOpenDBRequest).result\n\n      db.onerror = _ => {\n        console.log('Error loading database.')\n      }\n\n      // Create an objectStore for this database\n      const objectStore = db.createObjectStore('chessMoves', { keyPath: 'uci' })\n\n      // Define what data items the objectStore will contain\n      objectStore.createIndex('white', 'white', { unique: false })\n      objectStore.createIndex('draws', 'draws', { unique: false })\n      objectStore.createIndex('black', 'black', { unique: false })\n      objectStore.createIndex('moves', 'moves', { unique: false })\n      objectStore.createIndex('topGames', 'topGames', { unique: false })\n      objectStore.createIndex('opening', 'opening', { unique: false })\n\n      console.log('Object store created.')\n    }\n    return DBOpenRequest\n  }\n\n  export const main = () => {\n    console.log('Lichess user script loaded')\n\n    // Hold an instance of a db object for us to store the IndexedDB data in\n    let db: IDBDatabase\n\n    const DBOpenRequest = initDBOpenRequest(db)\n\n    let lookForMovesCallCnt = 0\n    lookForMoves(document.body)\n    lookForMovesCallCnt++\n    const observer = new MutationObserver((records, mutObserver) => {\n      for (const record of records) {\n        for (const node of Array.from(record.addedNodes)) {\n          if (node instanceof Element) {\n            lookForMoves(node)\n            lookForMovesCallCnt++\n            if (lookForMovesCallCnt % 10 === 0) {\n              console.log(`lookForMoves called ${lookForMovesCallCnt} times`)\n            }\n          }\n        }\n      }\n    })\n    observer.observe(document.body, { childList: true, subtree: true })\n  }\n}\nLichess.main()\n"],
  "mappings": ";;;;AAAA,MAAU;AAAV,IAAUA,aAAV;AAAA,IAQE,MAAM,WAAW;AAAA,MAIf,cAAc;AACZ,aAAK,MAAM;AAAA,MACb;AAAA,MAEQ,QAAc;AACpB,aAAK,QAAQ;AAAA,UACX,CAAC,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG;AAAA;AAAA,UACvC,CAAC,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG;AAAA;AAAA,UACvC,CAAC,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,IAAI;AAAA;AAAA,UAC/C,CAAC,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,IAAI;AAAA;AAAA,UAC/C,CAAC,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,IAAI;AAAA;AAAA,UAC/C,CAAC,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,IAAI;AAAA;AAAA,UAC/C,CAAC,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG;AAAA;AAAA,UACvC,CAAC,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG;AAAA;AAAA,QACzC;AACA,aAAK,cAAc;AAAA,MACrB;AAAA,MAEQ,UAAU,MAAsB;AACtC,eAAO,KAAK,WAAW,CAAC,IAAI,IAAI,WAAW,CAAC;AAAA,MAC9C;AAAA,MAEQ,UAAU,MAAsB;AACtC,eAAO,IAAI,SAAS,MAAM,EAAE;AAAA,MAC9B;AAAA,MAEQ,UAAU,KAAqB;AACrC,eAAO,OAAO,aAAa,IAAI,WAAW,CAAC,IAAI,GAAG;AAAA,MACpD;AAAA,MAEQ,UAAU,KAAqB;AACrC,gBAAQ,IAAI,KAAK,SAAS;AAAA,MAC5B;AAAA,MAEQ,iBAAiB,QAA0B;AACjD,eAAO;AAAA,UACL,KAAK,KAAK,UAAU,OAAO,CAAC,CAAC;AAAA,UAC7B,KAAK,KAAK,UAAU,OAAO,CAAC,CAAC;AAAA,QAC/B;AAAA,MACF;AAAA,MAEQ,iBAAiB,KAAuB;AAC9C,eAAO,KAAK,UAAU,IAAI,GAAG,IAAI,KAAK,UAAU,IAAI,GAAG;AAAA,MACzD;AAAA,MAEQ,iBACN,WACA,cACA,gBAAwB,IACxB,YAAqB,OACJ;AACjB,cAAM,QAAQ,KAAK,gBAAgB,MAAM,UAAU,YAAY,IAAI,UAAU,YAAY;AACzF,cAAM,SAAS,KAAK,iBAAiB,YAAY;AAEjD,cAAM,aAAyB,CAAC;AAGhC,YAAI,UAAU,YAAY,MAAM,KAAK;AACnC,cAAI,WAAW;AAEb,kBAAM,YAAY,KAAK,gBAAgB,MAAM,IAAI;AACjD,kBAAM,YAAY,OAAO,MAAM;AAE/B,gBAAI,eAAe;AAEjB,oBAAM,YAAY,KAAK,UAAU,aAAa;AAC9C,kBAAI,aAAa,KAAK,YAAY,KAAK,KAAK,MAAM,SAAS,EAAE,SAAS,MAAM,OAAO;AACjF,uBAAO,EAAE,KAAK,WAAW,KAAK,UAAU;AAAA,cAC1C;AAAA,YACF;AAAA,UACF,OAAO;AAEL,kBAAM,YAAY,KAAK,gBAAgB,MAAM,IAAI;AAGjD,gBAAI,YAAY,OAAO,MAAM;AAC7B,gBAAI,aAAa,KAAK,YAAY,KAAK,KAAK,MAAM,SAAS,EAAE,OAAO,GAAG,MAAM,OAAO;AAClF,qBAAO,EAAE,KAAK,WAAW,KAAK,OAAO,IAAI;AAAA,YAC3C;AAGA,wBAAY,OAAO,MAAM,IAAI;AAC7B,gBAAI,aAAa,KAAK,YAAY,KAAK,KAAK,MAAM,SAAS,EAAE,OAAO,GAAG,MAAM,OAAO;AAClF,qBAAO,EAAE,KAAK,WAAW,KAAK,OAAO,IAAI;AAAA,YAC3C;AAAA,UACF;AACA,iBAAO;AAAA,QACT;AAGA,iBAAS,MAAM,GAAG,MAAM,GAAG,OAAO;AAChC,mBAAS,MAAM,GAAG,MAAM,GAAG,OAAO;AAChC,gBAAI,KAAK,MAAM,GAAG,EAAE,GAAG,MAAM,OAAO;AAClC,kBAAI,KAAK,cAAc,OAAO,EAAE,KAAK,IAAI,GAAG,MAAM,GAAG;AACnD,2BAAW,KAAK,EAAE,KAAK,IAAI,CAAC;AAAA,cAC9B;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAEA,YAAI,WAAW,WAAW,EAAG,QAAO;AACpC,YAAI,WAAW,WAAW,EAAG,QAAO,WAAW,CAAC;AAGhD,YAAI,eAAe;AACjB,qBAAW,aAAa,YAAY;AAClC,gBAAI,cAAc,WAAW,GAAG;AAC9B,kBAAI,MAAM,SAAS,aAAa,CAAC,GAAG;AAElC,oBAAI,KAAK,UAAU,UAAU,GAAG,MAAM,eAAe;AACnD,yBAAO;AAAA,gBACT;AAAA,cACF,OAAO;AAEL,oBAAI,KAAK,UAAU,UAAU,GAAG,MAAM,eAAe;AACnD,yBAAO;AAAA,gBACT;AAAA,cACF;AAAA,YACF,WAAW,cAAc,WAAW,GAAG;AAErC,kBAAI,KAAK,iBAAiB,SAAS,MAAM,eAAe;AACtD,uBAAO;AAAA,cACT;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAGA,eAAO,WAAW,CAAC;AAAA,MACrB;AAAA,MAEQ,cAAc,OAAc,MAAgB,IAAuB;AACzE,YAAI,CAAC,MAAO,QAAO;AAEnB,cAAM,KAAK,GAAG,MAAM,KAAK;AACzB,cAAM,KAAK,GAAG,MAAM,KAAK;AACzB,cAAM,QAAQ,KAAK,IAAI,EAAE;AACzB,cAAM,QAAQ,KAAK,IAAI,EAAE;AAEzB,gBAAQ,MAAM,YAAY,GAAG;AAAA,UAC3B,KAAK;AACH,oBAAQ,OAAO,KAAK,OAAO,MAAM,KAAK,YAAY,MAAM,EAAE;AAAA,UAE5D,KAAK;AACH,mBAAQ,UAAU,KAAK,UAAU,KAAO,UAAU,KAAK,UAAU;AAAA,UAEnE,KAAK;AACH,mBAAO,UAAU,SAAS,QAAQ,KAAK,KAAK,YAAY,MAAM,EAAE;AAAA,UAElE,KAAK;AACH,oBAAQ,OAAO,KAAK,OAAO,KAAK,UAAU,UAAU,KAAK,YAAY,MAAM,EAAE;AAAA,UAE/E,KAAK;AACH,mBAAO,SAAS,KAAK,SAAS;AAAA,UAEhC;AACE,mBAAO;AAAA,QACX;AAAA,MACF;AAAA,MAEQ,YAAY,MAAgB,IAAuB;AACzD,cAAM,KAAK,KAAK,KAAK,GAAG,MAAM,KAAK,GAAG;AACtC,cAAM,KAAK,KAAK,KAAK,GAAG,MAAM,KAAK,GAAG;AAEtC,YAAI,aAAa,KAAK,MAAM;AAC5B,YAAI,aAAa,KAAK,MAAM;AAE5B,eAAO,eAAe,GAAG,OAAO,eAAe,GAAG,KAAK;AACrD,cAAI,KAAK,MAAM,UAAU,EAAE,UAAU,MAAM,MAAM;AAC/C,mBAAO;AAAA,UACT;AACA,wBAAc;AACd,wBAAc;AAAA,QAChB;AAEA,eAAO;AAAA,MACT;AAAA,MAEQ,eAAe,MAAsB;AAE3C,eAAO,KAAK,QAAQ,QAAQ,EAAE,EAAE,KAAK;AAGrC,YAAI,SAAS,SAAS,SAAS,OAAO;AACpC,gBAAM,OAAO,KAAK,gBAAgB,MAAM,MAAM;AAC9C,iBAAO,IAAI,IAAI,IAAI,IAAI;AAAA,QACzB;AACA,YAAI,SAAS,WAAW,SAAS,SAAS;AACxC,gBAAM,OAAO,KAAK,gBAAgB,MAAM,MAAM;AAC9C,iBAAO,IAAI,IAAI,IAAI,IAAI;AAAA,QACzB;AAGA,YAAI,YAAY;AAChB,YAAI,KAAK,SAAS,GAAG,GAAG;AACtB,gBAAM,QAAQ,KAAK,MAAM,GAAG;AAC5B,iBAAO,MAAM,CAAC;AACd,sBAAY,MAAM,CAAC,EAAE,YAAY;AAAA,QACnC;AAGA,cAAM,YAAY,KAAK,SAAS,GAAG;AACnC,eAAO,KAAK,QAAQ,KAAK,EAAE;AAG3B,YAAI,YAAY;AAChB,YAAI,UAAU;AAEd,YAAI,WAAW,KAAK,IAAI,GAAG;AACzB,sBAAY,KAAK,CAAC,EAAE,YAAY;AAChC,oBAAU,KAAK,MAAM,CAAC;AAAA,QACxB;AAGA,cAAM,cAAc,QAAQ,MAAM,eAAe;AACjD,YAAI,CAAC,aAAa;AAChB,gBAAM,IAAI,MAAM,wBAAwB,IAAI,EAAE;AAAA,QAChD;AAEA,cAAM,eAAe,YAAY,CAAC;AAGlC,cAAM,gBAAgB,QAAQ,QAAQ,cAAc,EAAE;AAGtD,cAAM,UAAU,KAAK,iBAAiB,WAAW,cAAc,eAAe,SAAS;AACvF,YAAI,CAAC,SAAS;AACZ,gBAAM,IAAI,MAAM,kCAAkC,IAAI,EAAE;AAAA,QAC1D;AAEA,cAAM,aAAa,KAAK,iBAAiB,OAAO;AAChD,cAAM,UAAU,aAAa,eAAe;AAG5C,aAAK,SAAS,SAAS,KAAK,iBAAiB,YAAY,GAAG,SAAS;AAErE,eAAO;AAAA,MACT;AAAA,MAEQ,SAAS,MAAgB,IAAc,YAAoB,IAAU;AAC3E,cAAM,QAAQ,KAAK,MAAM,KAAK,GAAG,EAAE,KAAK,GAAG;AAG3C,aAAI,+BAAO,mBAAkB,OAAO,KAAK,IAAI,GAAG,MAAM,KAAK,GAAG,MAAM,GAAG;AACrE,cAAI,GAAG,QAAQ,GAAG;AAEhB,iBAAK,MAAM,KAAK,GAAG,EAAE,CAAC,IAAI,KAAK,MAAM,KAAK,GAAG,EAAE,CAAC;AAChD,iBAAK,MAAM,KAAK,GAAG,EAAE,CAAC,IAAI;AAAA,UAC5B,WAAW,GAAG,QAAQ,GAAG;AAEvB,iBAAK,MAAM,KAAK,GAAG,EAAE,CAAC,IAAI,KAAK,MAAM,KAAK,GAAG,EAAE,CAAC;AAChD,iBAAK,MAAM,KAAK,GAAG,EAAE,CAAC,IAAI;AAAA,UAC5B;AAAA,QACF;AAGA,aAAK,MAAM,KAAK,GAAG,EAAE,KAAK,GAAG,IAAI;AAEjC,YAAI,WAAW;AACb,gBAAM,gBAAiB,KAAK,gBAAgB,MAAM,UAAU,YAAY,IAAI,UAAU,YAAY;AAClG,eAAK,MAAM,GAAG,GAAG,EAAE,GAAG,GAAG,IAAI;AAAA,QAC/B,OAAO;AACL,eAAK,MAAM,GAAG,GAAG,EAAE,GAAG,GAAG,IAAI;AAAA,QAC/B;AAGA,aAAK,cAAc,KAAK,gBAAgB,MAAM,MAAM;AAAA,MACtD;AAAA,MAEO,kBAAkB,OAAyB;AAChD,aAAK,MAAM;AAEX,YAAI,CAAC,MAAM,KAAK,EAAG,QAAO,CAAC;AAE3B,cAAM,WAAW,MACd,MAAM,GAAG,EACT,IAAI,OAAK,EAAE,KAAK,CAAC,EACjB,OAAO,OAAK,EAAE,SAAS,CAAC;AAC3B,cAAM,WAAqB,CAAC;AAE5B,mBAAW,QAAQ,UAAU;AAC3B,cAAI;AACF,kBAAM,UAAU,KAAK,eAAe,IAAI;AACxC,qBAAS,KAAK,OAAO;AAAA,UACvB,SAAS,OAAO;AACd,kBAAM,IAAI,MAAM,0BAA0B,IAAI,MAAM,KAAK,EAAE;AAAA,UAC7D;AAAA,QACF;AAEA,eAAO;AAAA,MACT;AAAA,IACF;AAGA,UAAM,aAAa,CAAC,UAA4B;AAC9C,YAAM,QAAQ,IAAI,WAAW;AAC7B,aAAO,MAAM,kBAAkB,KAAK;AAAA,IACtC;AAEA,UAAM,cAAc,CAAC,YAAqB;AACxC,aAAO,MAAM,KAAK,QAAQ,qBAAqB,MAAM,CAAC,EACnD,IAAI,QAAM,GAAG,WAAW,EACxB,KAAK,GAAG;AAAA,IACb;AAEA,UAAM,eAAe,CAAC,YAAqB;AACzC,YAAM,QAAQ,YAAY,OAAO;AACjC,UAAI,OAAO;AACT,YAAI;AACF,gBAAM,MAAM,WAAW,KAAK;AAC5B,kBAAQ,IAAI,QAAQ,IAAI,KAAK,GAAG,CAAC;AAAA,QACnC,SAAS,OAAO;AACd,kBAAQ,MAAM,yBAAyB,KAAK;AAAA,QAC9C;AAAA,MACF,OAAO;AACL,gBAAQ,IAAI,gBAAgB;AAAA,MAC9B;AAAA,IACF;AAEA,UAAM,gBAAgB,CAAC,IAAiB,QAAgB;AAEtD,YAAM,cAAc,GAAG,YAAY,CAAC,YAAY,CAAC;AACjD,YAAM,cAAc,YAAY,YAAY,YAAY;AACxD,YAAM,qBAAqB,YAAY,IAAI,GAAG;AAE9C,yBAAmB,UAAU,MAAM;AAEjC,gBAAQ,IAAI,8BAA8B;AAAA,MAC5C;AACA,yBAAmB,YAAY,WAAS;AAEtC,cAAM,SAAS,MAAM;AACrB,YAAI,iCAAQ,QAAQ;AAClB,kBAAQ,IAAI,qBAAqB,OAAO,MAAM;AAC9C,iBAAO,OAAO;AAAA,QAChB,OAAO;AACL,kBAAQ,IAAI,2DAA2D;AACvE,4BAAkB;AAAA,YAChB,QAAQ;AAAA,YACR,KAAK,6CAA6C,mBAAmB,GAAG,CAAC;AAAA,YACzE,QAAQ,cAAY;AAClB,kBAAI,SAAS,WAAW,KAAK;AAC3B,sBAAM,OAAO,KAAK,MAAM,SAAS,YAAY;AAC7C,wBAAQ,IAAI,sBAAsB,IAAI;AACtC,qBAAK,MAAM;AAEX,sBAAMC,eAAc,GAAG,YAAY,CAAC,YAAY,GAAG,WAAW;AAC9D,sBAAMC,eAAcD,aAAY,YAAY,YAAY;AACxD,sBAAM,aAAaC,aAAY,IAAI,IAAI;AACvC,2BAAW,YAAY,MAAM;AAC3B,0BAAQ,IAAI,yBAAyB;AACrC,yBAAO;AAAA,gBACT;AACA,2BAAW,UAAU,CAAAC,WAAS;AAC5B,0BAAQ,MAAM,kCAAkCA,MAAK;AAAA,gBACvD;AAAA,cACF,OAAO;AACL,wBAAQ,MAAM,6BAA6B,SAAS,UAAU;AAAA,cAChE;AAAA,YACF;AAAA,UACF,CAAC;AAAA,QACH;AAAA,MACF;AAAA,IACF;AAEA,UAAM,oBAAoB,CAAC,OAAoB;AAE7C,YAAM,gBAAgB,OAAO,UAAU,KAAK,YAAY;AAExD,oBAAc,UAAU,WAAS;AAC/B,gBAAQ,IAAI,wBAAwB;AAAA,MACtC;AAEA,oBAAc,YAAY,WAAS;AACjC,gBAAQ,IAAI,uBAAuB;AAGnC,aAAK,cAAc;AAAA,MACrB;AAEA,oBAAc,kBAAkB,WAAS;AACvC,aAAM,MAAM,OAA4B;AAExC,WAAG,UAAU,OAAK;AAChB,kBAAQ,IAAI,yBAAyB;AAAA,QACvC;AAGA,cAAM,cAAc,GAAG,kBAAkB,cAAc,EAAE,SAAS,MAAM,CAAC;AAGzE,oBAAY,YAAY,SAAS,SAAS,EAAE,QAAQ,MAAM,CAAC;AAC3D,oBAAY,YAAY,SAAS,SAAS,EAAE,QAAQ,MAAM,CAAC;AAC3D,oBAAY,YAAY,SAAS,SAAS,EAAE,QAAQ,MAAM,CAAC;AAC3D,oBAAY,YAAY,SAAS,SAAS,EAAE,QAAQ,MAAM,CAAC;AAC3D,oBAAY,YAAY,YAAY,YAAY,EAAE,QAAQ,MAAM,CAAC;AACjE,oBAAY,YAAY,WAAW,WAAW,EAAE,QAAQ,MAAM,CAAC;AAE/D,gBAAQ,IAAI,uBAAuB;AAAA,MACrC;AACA,aAAO;AAAA,IACT;AAEO,IAAMH,SAAA,OAAO,MAAM;AACxB,cAAQ,IAAI,4BAA4B;AAGxC,UAAI;AAEJ,YAAM,gBAAgB,kBAAkB,EAAE;AAE1C,UAAI,sBAAsB;AAC1B,mBAAa,SAAS,IAAI;AAC1B;AACA,YAAM,WAAW,IAAI,iBAAiB,CAAC,SAAS,gBAAgB;AAC9D,mBAAW,UAAU,SAAS;AAC5B,qBAAW,QAAQ,MAAM,KAAK,OAAO,UAAU,GAAG;AAChD,gBAAI,gBAAgB,SAAS;AAC3B,2BAAa,IAAI;AACjB;AACA,kBAAI,sBAAsB,OAAO,GAAG;AAClC,wBAAQ,IAAI,uBAAuB,mBAAmB,QAAQ;AAAA,cAChE;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,MACF,CAAC;AACD,eAAS,QAAQ,SAAS,MAAM,EAAE,WAAW,MAAM,SAAS,KAAK,CAAC;AAAA,IACpE;AAAA,KAxbQ;AA0bV,UAAQ,KAAK;",
  "names": ["Lichess", "transaction", "objectStore", "event"]
}
